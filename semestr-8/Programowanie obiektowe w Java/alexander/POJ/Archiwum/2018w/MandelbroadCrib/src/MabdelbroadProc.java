
public class MabdelbroadProc
{
   public static final int partsize=50;
   public static double py2im(double mul,double tp,int y) { return tp-y*mul; }
   public static double px2re(double mul,double lf,int x) { return lf+x*mul; }
   public static double zoom2mul(double zoom,int W) { return 2.5/(zoom*W); }

   public static int calc(double Pi, double Pr)
   {
       int max=Theme.length-1,i=0;
       for (double Zr=0,Zi=0;i<max;++i)
       {
           double Tmp=Zr*Zr-Zi*Zi+Pr;
           Zi=2*Zr*Zi+Pi;
           Zr=Tmp;
           if(Zr*Zr+Zi*Zi>=4) return i;
       }
       return max;
   }

   public static int[] makemap(double mul,double lf,double tp,int X,int Y)
   {
       int[] arr = new int[Y*X];
       for(int y=0,p=0;y<Y;++y)
       {
           double Pi=py2im(mul,tp,y);
           for(int x=0;x<X;++x)
           {
               double Pr=px2re(mul,lf,x);
               arr[p++]=calc(Pi,Pr);
           }
       }
       return arr;
   }

   public static int[] translate(int[] map)
   {
      int[] clr=new int[map.length*3];
      for(int i=0,p=0;i<map.length;++i)
      {
         int[] row=Theme[map[i]];
         clr[p++]=row[0];
         clr[p++]=row[1];
         clr[p++]=row[2];
      }
      return clr;
   }

   public static int[][] Theme = new int[][]
   {
       new int[] { 255, 0, 0 },
       new int[] { 255, 4, 0 },
       new int[] { 255, 8, 0 },
       new int[] { 255, 12, 0 },
       new int[] { 255, 16, 0 },
       new int[] { 255, 20, 0 },
       new int[] { 255, 24, 0 },
       new int[] { 255, 28, 0 },
       new int[] { 255, 31, 0 },
       new int[] { 255, 35, 0 },
       new int[] { 255, 39, 0 },
       new int[] { 255, 43, 0 },
       new int[] { 255, 47, 0 },
       new int[] { 255, 51, 0 },
       new int[] { 255, 55, 0 },
       new int[] { 255, 59, 0 },
       new int[] { 255, 63, 0 },
       new int[] { 255, 67, 0 },
       new int[] { 255, 71, 0 },
       new int[] { 255, 75, 0 },
       new int[] { 255, 79, 0 },
       new int[] { 255, 83, 0 },
       new int[] { 255, 87, 0 },
       new int[] { 255, 91, 0 },
       new int[] { 255, 94, 0 },
       new int[] { 255, 98, 0 },
       new int[] { 255, 102, 0 },
       new int[] { 255, 106, 0 },
       new int[] { 255, 110, 0 },
       new int[] { 255, 114, 0 },
       new int[] { 255, 118, 0 },
       new int[] { 255, 122, 0 },
       new int[] { 255, 126, 0 },
       new int[] { 255, 130, 0 },
       new int[] { 255, 133, 0 },
       new int[] { 255, 137, 0 },
       new int[] { 255, 141, 0 },
       new int[] { 255, 145, 0 },
       new int[] { 255, 149, 0 },
       new int[] { 255, 153, 0 },
       new int[] { 255, 157, 0 },
       new int[] { 255, 161, 0 },
       new int[] { 255, 255, 0 },
       new int[] { 255, 167, 0 },
       new int[] { 255, 170, 0 },
       new int[] { 255, 172, 0 },
       new int[] { 255, 174, 0 },
       new int[] { 255, 176, 0 },
       new int[] { 255, 178, 0 },
       new int[] { 255, 180, 0 },
       new int[] { 255, 182, 0 },
       new int[] { 255, 185, 0 },
       new int[] { 255, 187, 0 },
       new int[] { 255, 189, 0 },
       new int[] { 255, 191, 0 },
       new int[] { 255, 193, 0 },
       new int[] { 255, 195, 0 },
       new int[] { 255, 197, 0 },
       new int[] { 255, 199, 0 },
       new int[] { 255, 201, 0 },
       new int[] { 255, 203, 0 },
       new int[] { 255, 205, 0 },
       new int[] { 255, 208, 0 },
       new int[] { 255, 210, 0 },
       new int[] { 255, 212, 0 },
       new int[] { 255, 215, 0 },
       new int[] { 255, 217, 0 },
       new int[] { 255, 219, 0 },
       new int[] { 255, 221, 0 },
       new int[] { 255, 223, 0 },
       new int[] { 255, 225, 0 },
       new int[] { 255, 227, 0 },
       new int[] { 255, 230, 0 },
       new int[] { 255, 232, 0 },
       new int[] { 255, 234, 0 },
       new int[] { 255, 236, 0 },
       new int[] { 255, 238, 0 },
       new int[] { 255, 240, 0 },
       new int[] { 255, 242, 0 },
       new int[] { 255, 244, 0 },
       new int[] { 255, 246, 0 },
       new int[] { 255, 248, 0 },
       new int[] { 255, 250, 0 },
       new int[] { 255, 253, 0 },
       new int[] { 0, 128, 0 },
       new int[] { 249, 252, 0 },
       new int[] { 243, 249, 0 },
       new int[] { 237, 246, 0 },
       new int[] { 231, 243, 0 },
       new int[] { 225, 240, 0 },
       new int[] { 218, 237, 0 },
       new int[] { 212, 234, 0 },
       new int[] { 206, 231, 0 },
       new int[] { 200, 228, 0 },
       new int[] { 194, 225, 0 },
       new int[] { 188, 222, 0 },
       new int[] { 182, 218, 0 },
       new int[] { 176, 215, 0 },
       new int[] { 170, 212, 0 },
       new int[] { 164, 209, 0 },
       new int[] { 158, 206, 0 },
       new int[] { 151, 203, 0 },
       new int[] { 145, 200, 0 },
       new int[] { 139, 197, 0 },
       new int[] { 134, 195, 0 },
       new int[] { 128, 192, 0 },
       new int[] { 122, 189, 0 },
       new int[] { 116, 186, 0 },
       new int[] { 110, 183, 0 },
       new int[] { 104, 180, 0 },
       new int[] { 98, 177, 0 },
       new int[] { 91, 174, 0 },
       new int[] { 85, 171, 0 },
       new int[] { 79, 168, 0 },
       new int[] { 73, 165, 0 },
       new int[] { 67, 162, 0 },
       new int[] { 61, 159, 0 },
       new int[] { 55, 155, 0 },
       new int[] { 49, 152, 0 },
       new int[] { 43, 149, 0 },
       new int[] { 37, 146, 0 },
       new int[] { 31, 143, 0 },
       new int[] { 24, 140, 0 },
       new int[] { 18, 137, 0 },
       new int[] { 12, 134, 0 },
       new int[] { 6, 131, 0 },
       new int[] { 0, 0, 255 },
       new int[] { 0, 125, 6 },
       new int[] { 0, 122, 12 },
       new int[] { 0, 119, 18 },
       new int[] { 0, 116, 24 },
       new int[] { 0, 113, 30 },
       new int[] { 0, 110, 37 },
       new int[] { 0, 107, 43 },
       new int[] { 0, 104, 49 },
       new int[] { 0, 101, 55 },
       new int[] { 0, 98, 61 },
       new int[] { 0, 95, 67 },
       new int[] { 0, 91, 73 },
       new int[] { 0, 88, 79 },
       new int[] { 0, 85, 85 },
       new int[] { 0, 82, 91 },
       new int[] { 0, 79, 98 },
       new int[] { 0, 76, 104 },
       new int[] { 0, 73, 110 },
       new int[] { 0, 70, 116 },
       new int[] { 0, 67, 122 },
       new int[] { 0, 64, 128 },
       new int[] { 0, 61, 134 },
       new int[] { 0, 58, 139 },
       new int[] { 0, 55, 145 },
       new int[] { 0, 52, 151 },
       new int[] { 0, 49, 157 },
       new int[] { 0, 46, 164 },
       new int[] { 0, 43, 170 },
       new int[] { 0, 40, 176 },
       new int[] { 0, 37, 182 },
       new int[] { 0, 34, 188 },
       new int[] { 0, 31, 194 },
       new int[] { 0, 27, 200 },
       new int[] { 0, 24, 206 },
       new int[] { 0, 21, 212 },
       new int[] { 0, 18, 218 },
       new int[] { 0, 15, 225 },
       new int[] { 0, 12, 231 },
       new int[] { 0, 9, 237 },
       new int[] { 0, 6, 243 },
       new int[] { 0, 3, 249 },
       new int[] { 75, 0, 130 },
       new int[] { 2, 0, 252 },
       new int[] { 4, 0, 249 },
       new int[] { 6, 0, 246 },
       new int[] { 7, 0, 243 },
       new int[] { 9, 0, 240 },
       new int[] { 10, 0, 237 },
       new int[] { 12, 0, 234 },
       new int[] { 14, 0, 232 },
       new int[] { 16, 0, 229 },
       new int[] { 18, 0, 226 },
       new int[] { 20, 0, 223 },
       new int[] { 21, 0, 219 },
       new int[] { 23, 0, 216 },
       new int[] { 25, 0, 213 },
       new int[] { 27, 0, 210 },
       new int[] { 28, 0, 207 },
       new int[] { 30, 0, 204 },
       new int[] { 32, 0, 201 },
       new int[] { 34, 0, 198 },
       new int[] { 36, 0, 196 },
       new int[] { 38, 0, 193 },
       new int[] { 40, 0, 190 },
       new int[] { 41, 0, 187 },
       new int[] { 43, 0, 184 },
       new int[] { 45, 0, 181 },
       new int[] { 47, 0, 178 },
       new int[] { 48, 0, 175 },
       new int[] { 50, 0, 172 },
       new int[] { 52, 0, 169 },
       new int[] { 54, 0, 166 },
       new int[] { 55, 0, 163 },
       new int[] { 57, 0, 160 },
       new int[] { 59, 0, 156 },
       new int[] { 61, 0, 153 },
       new int[] { 63, 0, 151 },
       new int[] { 65, 0, 148 },
       new int[] { 66, 0, 145 },
       new int[] { 68, 0, 142 },
       new int[] { 69, 0, 139 },
       new int[] { 71, 0, 136 },
       new int[] { 73, 0, 133 },
       new int[] { 238, 130, 238 },
       new int[] { 79, 3, 133 },
       new int[] { 83, 6, 135 },
       new int[] { 86, 9, 138 },
       new int[] { 90, 12, 141 },
       new int[] { 94, 15, 143 },
       new int[] { 98, 18, 146 },
       new int[] { 102, 21, 148 },
       new int[] { 106, 24, 150 },
       new int[] { 110, 28, 153 },
       new int[] { 114, 31, 156 },
       new int[] { 118, 35, 158 },
       new int[] { 122, 38, 161 },
       new int[] { 125, 41, 164 },
       new int[] { 129, 44, 166 },
       new int[] { 133, 47, 169 },
       new int[] { 137, 50, 172 },
       new int[] { 141, 53, 174 },
       new int[] { 145, 56, 176 },
       new int[] { 149, 59, 179 },
       new int[] { 153, 62, 181 },
       new int[] { 157, 65, 184 },
       new int[] { 161, 68, 187 },
       new int[] { 165, 71, 189 },
       new int[] { 168, 74, 192 },
       new int[] { 172, 77, 195 },
       new int[] { 176, 80, 197 },
       new int[] { 180, 83, 200 },
       new int[] { 184, 86, 202 },
       new int[] { 187, 89, 204 },
       new int[] { 191, 93, 207 },
       new int[] { 195, 96, 210 },
       new int[] { 199, 100, 212 },
       new int[] { 203, 103, 215 },
       new int[] { 206, 106, 218 },
       new int[] { 211, 109, 220 },
       new int[] { 215, 112, 223 },
       new int[] { 219, 115, 226 },
       new int[] { 223, 118, 228 },
       new int[] { 227, 121, 230 },
       new int[] { 230, 124, 233 },
       new int[] { 234, 127, 235 },
       new int[] { 238, 130, 238 },
       new int[] { 0, 0, 0 },
   };
}
